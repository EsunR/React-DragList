(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(8),o=n.n(i),r=n(1),h=n(2),p=n(4),d=n(3),c=n(5),l=n(6),u=(n(14),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={moving:!1,top:0,indexStep:0,throwDomList:[]},n.itemDom=s.a.createRef(),n.startY=0,n.originTop=0,n.zIndex=1,n.stepLength=null,n.nextIndex=null,n}return Object(c.a)(e,t),Object(h.a)(e,[{key:"componentDidUpdate",value:function(t,e){var n=this;if(this.state.indexStep!==e.indexStep){var a=this.nextIndex,s=this.state.throwDomList;if(a!==this.props.startIndex){var i=this.itemDom.current.parentNode.children[a];if(!s.some(function(t,e){return t.innerHTML===i.innerHTML&&(s.splice(e+1,1)[0].classList.remove("move-up","move-down"),n.setState({throwDomList:s}),!0)})){s.push(i),this.setState({throwDomList:s});var o=this.state.indexStep>0?"move-up":"move-down";i.classList.add(o)}}else this.state.throwDomList[0]&&(this.state.throwDomList[0].classList.remove("move-up","move-down"),this.setState({throwDomList:[]}))}}},{key:"_getDomStyleNum",value:function(t,e){return parseInt(window.getComputedStyle(t)[e])}},{key:"componentDidMount",value:function(){this.stepLength=this._getDomStyleNum(this.itemDom.current,"height")+this._getDomStyleNum(this.itemDom.current,"marginBottom")}},{key:"handleMouseMove",value:function(t){if(t.preventDefault(),this.state.moving){var e=t.clientY-this.startY,n=e>0?Math.ceil((e-this.stepLength/2)/this.stepLength):Math.floor((e+this.stepLength/2)/this.stepLength),a=this.props.startIndex+n,s=this.props.parent.state.data.length-1;a>s?(this.handleDragOver(),this.nextIndex=s):a<0?(this.handleDragOver(),this.nextIndex=0):(this.nextIndex=this.props.startIndex+n,this.setState({top:this.originTop+e,indexStep:n}))}}},{key:"handleMouseDown",value:function(t){var e=this;this.setState({moving:!0}),this.zIndex=999,this.startY=t.clientY,this.originTop=this._getDomStyleNum(this.itemDom.current,"top");var n=this.itemDom.current.parentNode.children;Array.prototype.forEach.call(n,function(t,n){n!==e.props.startIndex&&t.classList.add("animate")})}},{key:"handleDragOver",value:function(){if(this.state.moving){0!==this.state.indexStep&&this.props.parent.resort(this.props.startIndex,this.nextIndex),this.zIndex=1,this.startY=0,this.moveY=0,this.setState({top:0,indexStep:0,moving:!1});var t=this.itemDom.current.parentNode.children;if(Array.prototype.forEach.call(t,function(t){t.classList.remove("move-up","move-down","animate")}),0!==this.state.indexStep&&this.props.parent.props.onSorted)try{this.props.parent.props.onSorted(this.props.parent.state.data)}catch(e){throw new Error("<DragList /> props 'onSorted' has an error, please check it out")}}}},{key:"render",value:function(){return s.a.createElement("div",{className:"drag-list-item",ref:this.itemDom,style:Object(l.a)({margin:"".concat(this.props.spacing?this.props.spacing:0,"px 0px"),top:this.state.top,zIndex:this.zIndex},this.props.parent.props.itemStyle),onMouseDown:this.handleMouseDown.bind(this),onMouseUp:this.handleDragOver.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseLeave:this.handleDragOver.bind(this)},s.a.createElement("div",{className:"item-content"},this.props.data))}}]),e}(a.Component)),m=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={data:[]},n}return Object(c.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.setState({data:JSON.parse(JSON.stringify(this.props.data))})}},{key:"resort",value:function(t,e){var n=this.state.data;n.splice(e,0,n.splice(t,1)[0]),this.setState({data:n})}},{key:"render",value:function(){var t=this,e=this.state.data.map(function(e,n){return s.a.createElement(u,{key:e.id,data:e.data,spacing:t.props.spacing,startIndex:n,parent:t})});return s.a.createElement("div",{className:"drag-list",style:Object(l.a)({},this.props.style)},s.a.createElement("div",{className:"drag-list-inner",style:{margin:"".concat(this.props.spacing?-this.props.spacing:0,"px 0px")}},e))}}]),e}(a.Component),v=(n(15),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={data:[{data:"\u6570\u636e1",id:1},{data:"\u6570\u636e2",id:2},{data:"\u6570\u636e3",id:3},{data:"\u6570\u636e4",id:4},{data:"\u6570\u636e5",id:5},{data:"\u6570\u636e6",id:6}]},n}return Object(c.a)(e,t),Object(h.a)(e,[{key:"handleSorted",value:function(t){console.log(t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h3",null,"\u8fd9\u662f\u4e00\u4e2a\u62d6\u62fd\u5217\u8868demo"),s.a.createElement(m,{data:this.state.data,style:{border:"5px solid skyblue",padding:"20px",borderRadius:"5px"},itemStyle:{background:"pink",borderRadius:"5px",boxShadow:"0px 3px 5px rgba(0,0,0,0.3)"},spacing:20,onSorted:this.handleSorted}))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){t.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.a2a0fc10.chunk.js.map